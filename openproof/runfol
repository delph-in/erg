#!/bin/bash
sort $2 > /tmp/allrules;
if [ $# -ge 3 ]
   then
   sort $3 > /tmp/blockrules;
   comm -23 /tmp/allrules /tmp/blockrules > /tmp/newrules
   else
   cp /tmp/morerules /tmp/newrules
fi;
if [ $# -ge 4 ]
   then
   cat $4 /tmp/newrules > /tmp/rules
   else
   cp /tmp/newrules /tmp/rules
fi
cd /home/danf/erg/openproof; python scripts/e2e.py $1 | /home/danf/bin/ace -g inflatemrs.dat -f | /home/danf/bin/ace -g paraphrase-op.dat -vv --transfer-config /tmp/rules | tee /tmp/paras | /home/danf/bin/ace -g ergopen.dat -e > /tmp/out7-12.txt; grep "transfer rule" /tmp/paras > /tmp/applied
